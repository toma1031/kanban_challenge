{% extends 'base.html' %}
{% load static %}
{% block main %}
<div class="backlog_lane col-lg-3">
  <div class="form w-100 text-center m-auto">
    <h2 class="backlog_header">Backlog</h2>
    <div class="backlog_container pt-2 pb-2 scrollbar">
      <div class="m-auto">
        <ul class="pl-3">
          {% for backlog in backlogs %}
          <div class="card">
            <!-- d-flexでブロック要素を横に並べます。かつ、align-items-centerで中央ぞろえに設定 -->
            <div class="d-flex align-items-center">
              <div class="pr-3"><i class="fas fa-chevron-left invisible"></i></div>
              <div class="card-body text-break p-0">
                <p class="card-text">{{ backlog.content|truncatechars:100 }}</p>
              </div>
              <div class="pl-3"><i class="fas fa-chevron-right" data-id="{{ backlog.id }}"
                  data-status="{{ backlog.status }}" data-href="{% url 'kanban_challenge:index' %}"
                  data-csrf="{{ csrf_token }}"></i></div>
            </div>
            <div class="d-flex justify-content-between c-footer">
              <p class="m-0">{{ backlog.created|date:"n/j/Y" }}</p>
              <p class="m-0">{{ backlog.post_person }}</p>
            </div>
          </div>
          {% endfor %}
        </ul>
      </div>
      <button type="button" class="clear-decoration">+ Add Card</button>
      <div id="form" class="d-none">
        <div class="card justify-content-center m-auto card-input">
          <form action="" method="POST">
            <div class="card-body">
              {% csrf_token %}
              {{ form.errors }}
              <div class="form-group">{{ form.content }}</div>
              <div class="form-group">{{ form.post_person }}</div>
              <div class="d-flex c-footer">
                <p style="display:inline" class="creating">Creating...</p>
                <button class="btn btn-primary" type="submit" style="display:inline">Done</button>
              </div>

            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="progress_lane col-lg-3 ml-80px">
  <div class="form w-100 text-center m-auto">
    <h2 class="progress_header">In Progress</h2>
    <div class="progress_container pt-2 pb-2 scrollbar">
      <ul class="pl-3">
        {% for progres in progress %}
        <div class="card">
          <!-- d-flexでブロック要素を横に並べます。かつ、align-items-centerで中央ぞろえに設定 -->
          <div class="d-flex align-items-center">
            <div class="pr-3"><i class="fas fa-chevron-left" data-id="{{ progres.id }}"
                data-status="{{ progres.status }}" data-href="{% url 'kanban_challenge:index' %}"
                data-csrf="{{ csrf_token }}"></i></div>
            <div class="card-body text-break p-0">
              <p class="card-text">{{ progres.content|truncatechars:100 }}</p>
            </div>
            <div class="pl-3"><i class="fas fa-chevron-right" data-id="{{ progres.id }}"
                data-status="{{ progres.status }}" data-href="{% url 'kanban_challenge:index' %}"
                data-csrf="{{ csrf_token }}"></i></div>
          </div>
          <div class="d-flex justify-content-between c-footer">
            <p class="m-0">{{ progres.created|date:"n/j/Y" }}</p>
            <p class="m-0">{{ progres.post_person }}</p>
          </div>
        </div>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
<div class="complete_lane col-lg-3 ml-80px">
  <div class="form w-100 text-center m-auto">
    <h2 class="complete_header">Complete</h2>
    <div class="complete_container pt-2 pb-2 scrollbar">
      <ul class="pl-3">
        {% for complete in completes %}
        <div class="card">
          <!-- d-flexでブロック要素を横に並べます。かつ、align-items-centerで中央ぞろえに設定 -->
          <div class="d-flex align-items-center">
            <div class="pr-3"><i class="fas fa-chevron-left" data-id="{{ complete.id }}"
                data-status="{{ complete.status }}" data-href="{% url 'kanban_challenge:index' %}"
                data-csrf="{{ csrf_token }}"></i></div>
            <div class="card-body text-break p-0">
              <p class="card-text">{{ complete.content|truncatechars:100 }}</p>
            </div>
            <div class="pl-3"><i class="fas fa-chevron-right invisible" data-id="{{ complete.id }}"
                data-status="{{ complete.status }}" data-href="{% url 'kanban_challenge:index' %}"
                data-csrf="{{ csrf_token }}"></i></div>
          </div>
          <div class="d-flex justify-content-between c-footer">
            <p class="m-0">{{ complete.created|date:"n/j/Y" }}</p>
            <p class="m-0">{{ complete.post_person }}</p>
          </div>
        </div>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock main %}